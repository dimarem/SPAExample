(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{58:function(t,e,s){},59:function(t,e,s){},60:function(t,e,s){},61:function(t,e,s){},62:function(t,e,s){},76:function(t,e,s){"use strict";var n=s(58);s.n(n).a},77:function(t,e,s){"use strict";var n=s(59);s.n(n).a},78:function(t,e,s){"use strict";var n=s(60);s.n(n).a},79:function(t,e,s){"use strict";var n=s(61);s.n(n).a},80:function(t,e,s){"use strict";var n=s(62);s.n(n).a},85:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"assets-list"},[e("Main",{attrs:{content:this.content}}),this._v(" "),e("Footer")],1)};n._withStripped=!0;var o=function(){var t=this.$createElement,e=this._self._c||t;return e("main",{staticClass:"assets-list-main"},[this.content.length?this._l(this.content,function(t){return e("Asset",{key:t.id,attrs:{content:t}})}):[e("div",{staticClass:"assets-list-empty"},[this._v("В данный момент список пуст, воспользуйтесь меню поиска на панели сверху для поиска интересующей вас информации.")])]],2)};o._withStripped=!0;var c=function(){var t=this.$createElement,e=this._self._c||t;return e("article",{staticClass:"assets-list-article"},[e("Img",{attrs:{content:this.content}}),this._v(" "),e("Description",{attrs:{content:this.content}})],1)};c._withStripped=!0;var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"assets-list-image"},[s("router-link",{class:{invisible:t.invisible},style:{backgroundImage:"url("+t.content.front_image+")"},attrs:{to:t.url}}),t._v(" "),t.invisible?s("img",{attrs:{src:t.content.front_image},on:{load:function(e){t.invisible=!1}}}):t._e()],1)};i._withStripped=!0;var r={props:{content:{type:Object,required:!0}},data:function(){return{invisible:!0}},computed:{url:function(){return"/assets/".concat(this.content.id)}}},a=(s(76),s(0)),l=Object(a.a)(r,i,[],!1,null,null,null);l.options.__file="src/components/pages/assets-page-components/assets-list-components/main-components/asset-components/Img.vue";var u=l.exports,p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"assets-list-description"},[s("div",{staticClass:"price"},[t._v(t._s(t.formattedPrice)+" "),s("span",[t._v(t._s(t.content.currency))])]),t._v(" "),s("div",{staticClass:"type"},[t._v(t._s(t.content.asset_type)+". "+t._s(t.content.deal_type))]),t._v(" "),s("div",{staticClass:"adress"},[t._v(t._s(t.content.adress))]),t._v(" "),s("div",{staticClass:"characteristics"},t._l(t.characteristics,function(e){return s("div",{key:e.id,staticClass:"characteristic"},[s("div",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),s("div",{staticClass:"value"},[t._v(t._s(e.value))])])}),0),t._v(" "),t.content.hot?s("div",{staticClass:"hot"},[t._v("HOT")]):t._e()])};p._withStripped=!0;var f={props:{content:{type:Object,required:!0}},computed:{formattedPrice:function(){return new Intl.NumberFormat("ru").format(this.content.price)},characteristics:function(){var t=[],e=this.content,s=e.area,n=e.rooms,o=e.floor;return t.push({title:"Площадь, м2",value:s}),t.push({title:"Комнат, шт.",value:n}),o&&t.push({title:"Этаж",value:o}),t}}},h=(s(77),Object(a.a)(f,p,[],!1,null,null,null));h.options.__file="src/components/pages/assets-page-components/assets-list-components/main-components/asset-components/Description.vue";var d=h.exports,m={props:{content:{type:Object,required:!0}},components:{Img:u,Description:d}},v=(s(78),Object(a.a)(m,c,[],!1,null,null,null));v.options.__file="src/components/pages/assets-page-components/assets-list-components/main-components/Asset.vue";var g=v.exports,_={props:{content:{type:Array,required:!0}},components:{Asset:g}},b=(s(79),Object(a.a)(_,o,[],!1,null,null,null));b.options.__file="src/components/pages/assets-page-components/assets-list-components/Main.vue";var y=b.exports,O=function(){var t=this.$createElement;return(this._self._c||t)("footer",{staticClass:"assets-page-list-footer"},[this._v("® Compass, 2020")])};O._withStripped=!0;s(80);var w=Object(a.a)({},O,[],!1,null,null,null);w.options.__file="src/components/pages/assets-page-components/assets-list-components/Footer.vue";var P=w.exports,C=s(2);function D(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,n)}return s}function j(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?D(s,!0).forEach(function(e){k(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):D(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}function k(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var S={components:{Main:y,Footer:P},data:function(){return{fetchBlocked:!1,scrollProcessingBlocked:!1}},computed:j({},Object(C.a)(["assetsPageStoredData","assetsPageDataChunk","storedSearchURL"]),{content:function(){return this.assetsPageStoredData?this.assetsPageStoredData.data:[]}}),created:function(){document.title="Compass - наши предложения",window.addEventListener("scroll",this.processScrolling,{passive:!0})},beforeDestroy:function(){window.removeEventListener("scroll",this.processScrolling,{passive:!0})},methods:j({},Object(C.b)(["storeAssetsPageData","storeAssetsPageDataChunk"]),{fetchDataChunk:function(t){if(!this.fetchBlocked){this.fetchBlocked=!0;var e=this,s=this.storedSearchURL;fetch("".concat(s,"&chunk=").concat(t)).then(function(t){return t.json()}).then(function(s){e.storeAssetsPageData(s),e.storeAssetsPageDataChunk(t)}).catch(function(t){console.error(t)}).finally(function(){e.fetchBlocked=!1})}},processScrolling:function(){var t=this;this.assetsPageStoredData&&!this.scrollProcessingBlocked&&(this.scrollProcessingBlocked=!0,setTimeout(function(){if(t.assetsPageStoredData.hasMore){var e=t.getDocumentMetrics(),s=e.scrolled,n=e.clientHeight;if(s>.5*(e.scrollHeight-n)){var o=t.assetsPageDataChunk+1;t.fetchDataChunk(o)}t.scrollProcessingBlocked=!1}else window.removeEventListener("scroll",t.processScrolling,{passive:!0})},1e3))},getDocumentMetrics:function(){return{scrolled:window.pageYOffset||document.documentElement.scrollTop,clientHeight:document.documentElement.clientHeight,scrollHeight:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)}}})},E=Object(a.a)(S,n,[],!1,null,null,null);E.options.__file="src/components/pages/assets-page-components/AssetsList.vue";e.default=E.exports}}]);